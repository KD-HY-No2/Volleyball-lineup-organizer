<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volleyball Lineup Optimizer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
        
        @media (max-width: 768px) {
            html, body {
                height: 100%;
                overflow-x: hidden;
            }
        }

        ::-webkit-scrollbar {
            width: 3px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        .dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }

        .drop-zone-active {
            background-color: rgba(59, 130, 246, 0.1) !important;
            border: 2px dashed #3b82f6 !important;
        }

        .optimizing {
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const VolleyballApp = () => {
            // Initialize with 10 default players
            const [players, setPlayers] = useState([
                { id: 1, name: '1', defense: 3, serving: 3, active: true },
                { id: 2, name: '2', defense: 3, serving: 3, active: true },
                { id: 3, name: '3', defense: 3, serving: 3, active: true },
                { id: 4, name: '4', defense: 3, serving: 3, active: true },
                { id: 5, name: '5', defense: 3, serving: 3, active: true },
                { id: 6, name: '6', defense: 3, serving: 3, active: true },
                { id: 7, name: '7', defense: 3, serving: 3, active: true },
                { id: 8, name: '8', defense: 3, serving: 3, active: true },
                { id: 9, name: '9', defense: 3, serving: 3, active: true },
                { id: 10, name: '10', defense: 3, serving: 3, active: true }
            ]);
            const [showPlayerForm, setShowPlayerForm] = useState(false);
            const [editingPlayer, setEditingPlayer] = useState(null);
            const [teamName, setTeamName] = useState('My Team');
            const [minThreshold, setMinThreshold] = useState(6);
            const [isOptimizing, setIsOptimizing] = useState(false);
            const [draggedPlayer, setDraggedPlayer] = useState(null);
            const [dropZone, setDropZone] = useState(null);

            // Form state
            const [playerForm, setPlayerForm] = useState({
                name: '',
                defense: 3,
                serving: 3,
                active: true
            });

            // Court positions (6 on court, rest on bench)
            const [courtPositions, setCourtPositions] = useState({
                backLeft: null,    // Position 1 - Serving position
                frontLeft: null,   // Position 2
                frontMiddle: null, // Position 3
                frontRight: null,  // Position 4
                backRight: null,   // Position 5
                backMiddle: null,  // Position 6
                bench: []
            });

            const handleAddPlayer = () => {
                if (playerForm.name.trim()) {
                    const newPlayer = {
                        id: Date.now(),
                        ...playerForm
                    };
                    setPlayers([...players, newPlayer]);
                    setPlayerForm({ name: '', defense: 3, serving: 3, active: true });
                    setShowPlayerForm(false);
                }
            };

            const handleEditPlayer = (player) => {
                if (draggedPlayer) return; // Don't edit while dragging
                setEditingPlayer(player.id);
                setPlayerForm(player);
                setShowPlayerForm(true);
            };

            const handleUpdatePlayer = () => {
                setPlayers(players.map(p => 
                    p.id === editingPlayer ? { ...playerForm, id: editingPlayer } : p
                ));
                setEditingPlayer(null);
                setPlayerForm({ name: '', defense: 3, serving: 3, active: true });
                setShowPlayerForm(false);
            };

            const togglePlayerActive = (id) => {
                setPlayers(players.map(p => 
                    p.id === id ? { ...p, active: !p.active } : p
                ));
            };

            // Calculate rotation strengths
            const calculateRotationStrengths = (positions) => {
                const rotations = [];
                let currentPositions = { ...positions };
                
                for (let i = 0; i < 10; i++) { // Calculate 10 rotations
                    const frontRowTotal = (currentPositions.frontLeft?.defense || 0) + 
                                         (currentPositions.frontMiddle?.defense || 0) + 
                                         (currentPositions.frontRight?.defense || 0);
                    const backRowTotal = (currentPositions.backLeft?.defense || 0) + 
                                        (currentPositions.backMiddle?.defense || 0) + 
                                        (currentPositions.backRight?.defense || 0);
                    
                    rotations.push({
                        frontRowTotal,
                        backRowTotal,
                        serverRating: currentPositions.backLeft?.serving || 0,
                        rotation: i
                    });
                    
                    // Simulate rotation
                    const newPositions = {
                        backRight: currentPositions.backMiddle,
                        frontRight: currentPositions.backRight,
                        frontMiddle: currentPositions.frontRight,
                        frontLeft: currentPositions.frontMiddle,
                        backLeft: currentPositions.frontLeft,
                        bench: [...currentPositions.bench]
                    };
                    
                    const newBench = [...currentPositions.bench];
                    if (newBench.length > 0) {
                        newBench.push(currentPositions.backLeft);
                        newPositions.backMiddle = newBench.shift();
                    } else {
                        newPositions.backMiddle = currentPositions.backLeft;
                    }
                    newPositions.bench = newBench;
                    
                    currentPositions = newPositions;
                }
                
                return rotations;
            };

            // Standard Play Optimization Algorithm
            const optimizeStandardPlay = async () => {
                setIsOptimizing(true);
                
                // Small delay to show the loading state
                await new Promise(resolve => setTimeout(resolve, 100));
                
                const activePlayers = players.filter(p => p.active);
                if (activePlayers.length < 6) {
                    setIsOptimizing(false);
                    return;
                }

                let bestLineup = null;
                let bestScore = -1;

                // Generate all possible combinations of 6 players from active players
                const combinations = [];
                const generateCombinations = (arr, size, start = 0, current = []) => {
                    if (current.length === size) {
                        combinations.push([...current]);
                        return;
                    }
                    for (let i = start; i < arr.length; i++) {
                        current.push(arr[i]);
                        generateCombinations(arr, size, i + 1, current);
                        current.pop();
                    }
                };
                
                generateCombinations(activePlayers, 6);

                // For each combination, try all possible position arrangements
                for (const combo of combinations) {
                    const permutations = [];
                    const generatePermutations = (arr, current = []) => {
                        if (current.length === arr.length) {
                            permutations.push([...current]);
                            return;
                        }
                        for (let i = 0; i < arr.length; i++) {
                            if (!current.includes(arr[i])) {
                                current.push(arr[i]);
                                generatePermutations(arr, current);
                                current.pop();
                            }
                        }
                    };
                    
                    generatePermutations(combo);

                    for (const perm of permutations) {
                        const testPositions = {
                            backLeft: perm[0],
                            frontLeft: perm[1],
                            frontMiddle: perm[2],
                            frontRight: perm[3],
                            backRight: perm[4],
                            backMiddle: perm[5],
                            bench: activePlayers.filter(p => !combo.includes(p))
                        };

                        const rotations = calculateRotationStrengths(testPositions);
                        
                        // Calculate score
                        let aboveThresholdCount = 0;
                        let totalDefense = 0;
                        let servingScore = 0;

                        rotations.forEach((rotation, index) => {
                            if (rotation.frontRowTotal >= minThreshold && rotation.backRowTotal >= minThreshold) {
                                aboveThresholdCount++;
                            }
                            totalDefense += rotation.frontRowTotal + rotation.backRowTotal;
                            
                            // Serving score: earlier rotations get higher weight
                            const rotationWeight = Math.max(1, 10 - index);
                            servingScore += rotation.serverRating * rotationWeight;
                        });

                        const avgDefense = totalDefense / rotations.length;
                        const thresholdPercent = aboveThresholdCount / rotations.length;
                        
                        // Score formula: prioritize threshold compliance, then average defense, then serving
                        const score = (thresholdPercent * 100) + (avgDefense * 2) + (servingScore * 0.1);

                        if (score > bestScore) {
                            bestScore = score;
                            bestLineup = testPositions;
                        }
                    }

                    // Limit combinations to prevent browser freeze (take first 1000)
                    if (combinations.indexOf(combo) > 1000) break;
                }

                if (bestLineup) {
                    setCourtPositions(bestLineup);
                }
                
                setIsOptimizing(false);
            };

            const autoArrangePlayers = () => {
                const activePlayers = players.filter(p => p.active);
                if (activePlayers.length < 6) return;

                const newPositions = {
                    backLeft: activePlayers.find(p => p.name === '1') || activePlayers[0],
                    frontLeft: activePlayers.find(p => p.name === '2') || activePlayers[1],
                    frontMiddle: activePlayers.find(p => p.name === '3') || activePlayers[2],
                    frontRight: activePlayers.find(p => p.name === '4') || activePlayers[3],
                    backRight: activePlayers.find(p => p.name === '5') || activePlayers[4],
                    backMiddle: activePlayers.find(p => p.name === '6') || activePlayers[5],
                    bench: activePlayers.slice(6)
                };
                setCourtPositions(newPositions);
            };

            const rotateForward = () => {
                const courtPlayers = [
                    courtPositions.backLeft,
                    courtPositions.backMiddle,
                    courtPositions.backRight,
                    courtPositions.frontLeft,
                    courtPositions.frontMiddle,
                    courtPositions.frontRight
                ].filter(Boolean);
                
                if (courtPlayers.length < 6) return;

                const newPositions = {
                    backRight: courtPositions.backMiddle,
                    frontRight: courtPositions.backRight,
                    frontMiddle: courtPositions.frontRight,
                    frontLeft: courtPositions.frontMiddle,
                    backLeft: courtPositions.frontLeft,
                    bench: [...courtPositions.bench]
                };

                const newBench = [...courtPositions.bench];
                newBench.push(courtPositions.backLeft);
                
                if (newBench.length > 0) {
                    newPositions.backMiddle = newBench.shift();
                }
                
                newPositions.bench = newBench;
                setCourtPositions(newPositions);
            };

            const rotateBackward = () => {
                const courtPlayers = [
                    courtPositions.backLeft,
                    courtPositions.backMiddle,
                    courtPositions.backRight,
                    courtPositions.frontLeft,
                    courtPositions.frontMiddle,
                    courtPositions.frontRight
                ].filter(Boolean);
                
                if (courtPlayers.length < 6) return;

                const newPositions = {
                    frontLeft: courtPositions.backLeft,
                    frontMiddle: courtPositions.frontLeft,
                    frontRight: courtPositions.frontMiddle,
                    backRight: courtPositions.frontRight,
                    backMiddle: courtPositions.backRight,
                    bench: [...courtPositions.bench]
                };

                const newBench = [...courtPositions.bench];
                newBench.unshift(courtPositions.backMiddle);
                
                if (newBench.length > 0) {
                    newPositions.backLeft = newBench.pop();
                }
                
                newPositions.bench = newBench;
                setCourtPositions(newPositions);
            };

            // Drag and Drop handlers
            const handleDragStart = (e, player) => {
                setDraggedPlayer(player);
                e.dataTransfer.effectAllowed = 'move';
            };

            const handleDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            };
const handleDragEnter = (e, zone) => {
                e.preventDefault();
                setDropZone(zone);
            };

            const handleDragLeave = (e) => {
                e.preventDefault();
                setDropZone(null);
            };

            const handleDrop = (e, targetPosition) => {
                e.preventDefault();
                if (!draggedPlayer) return;

                const newPositions = { ...courtPositions };
                
                // Find current position of dragged player
                let currentPosition = null;
                Object.keys(newPositions).forEach(pos => {
                    if (pos === 'bench') {
                        const benchIndex = newPositions[pos].findIndex(p => p.id === draggedPlayer.id);
                        if (benchIndex >= 0) {
                            currentPosition = { type: 'bench', index: benchIndex };
                        }
                    } else if (newPositions[pos] && newPositions[pos].id === draggedPlayer.id) {
                        currentPosition = { type: 'court', position: pos };
                    }
                });

                // Remove from current position
                if (currentPosition) {
                    if (currentPosition.type === 'bench') {
                        newPositions.bench.splice(currentPosition.index, 1);
                    } else {
                        newPositions[currentPosition.position] = null;
                    }
                }

                // Handle target position
                if (targetPosition === 'bench') {
                    newPositions.bench.push(draggedPlayer);
                } else if (targetPosition.startsWith('bench-')) {
                    const index = parseInt(targetPosition.split('-')[1]);
                    newPositions.bench.splice(index, 0, draggedPlayer);
                } else {
                    // If target position has a player, swap them
                    if (newPositions[targetPosition]) {
                        if (currentPosition && currentPosition.type === 'court') {
                            newPositions[currentPosition.position] = newPositions[targetPosition];
                        } else if (currentPosition && currentPosition.type === 'bench') {
                            newPositions.bench.splice(currentPosition.index, 0, newPositions[targetPosition]);
                        }
                    }
                    newPositions[targetPosition] = draggedPlayer;
                }

                setCourtPositions(newPositions);
                setDraggedPlayer(null);
                setDropZone(null);
            };

            // Current rotation strengths
            const currentStrengths = calculateRotationStrengths(courtPositions).slice(0, 6); // Show first 6 rotations

            const PlayerTile = ({ player, position, isOnCourt, benchIndex }) => (
                React.createElement('div', {
                    className: `p-3 rounded-lg shadow-md cursor-pointer transition-all ${
                        player.active 
                            ? (isOnCourt ? 'bg-blue-100 border-2 border-blue-500' : 'bg-green-100 border-2 border-green-400')
                            : 'bg-gray-200 border-2 border-gray-300'
                    } ${draggedPlayer && draggedPlayer.id === player.id ? 'dragging' : ''}`,
                    draggable: true,
                    onDragStart: (e) => handleDragStart(e, player),
                    onClick: () => handleEditPlayer(player)
                },
                    React.createElement('div', { className: "font-semibold text-sm" }, player.name),
                    position && React.createElement('div', { className: "text-xs text-gray-600 mt-1" }, position)
                )
            );

            const DropZone = ({ position, currentPlayer, label }) => (
                React.createElement('div', {
                    className: `h-16 border-2 border-dashed rounded-lg flex items-center justify-center transition-all ${
                        dropZone === position ? 'drop-zone-active' : 'border-gray-300'
                    }`,
                    onDragOver: handleDragOver,
                    onDragEnter: (e) => handleDragEnter(e, position),
                    onDragLeave: handleDragLeave,
                    onDrop: (e) => handleDrop(e, position)
                },
                    currentPlayer ? 
                        React.createElement(PlayerTile, { player: currentPlayer, position: label, isOnCourt: true }) :
                        React.createElement('span', { className: "text-xs text-gray-400" }, "Empty")
                )
            );

            const CourtDisplay = () => (
                React.createElement('div', { className: "bg-orange-50 border-2 border-orange-300 rounded-lg p-4 mb-6" },
                    React.createElement('div', { className: "text-center text-sm font-semibold mb-4 text-orange-800" },
                        `${teamName} - Court Layout`
                    ),
                    
                    // Current rotation strengths
                    currentStrengths.length > 0 && (
                        React.createElement('div', { className: "mb-4 p-3 bg-white rounded-lg border" },
                            React.createElement('div', { className: "text-xs font-semibold mb-2 text-center" }, 
                                "Row Totals (Defense) - Min: " + minThreshold
                            ),
                            React.createElement('div', { className: "flex justify-between text-xs" },
                                React.createElement('div', {}, 
                                    `Front: ${currentStrengths[0]?.frontRowTotal || 0}`,
                                    React.createElement('span', { 
                                        className: `ml-1 ${(currentStrengths[0]?.frontRowTotal || 0) >= minThreshold ? 'text-green-600' : 'text-red-600'}`
                                    }, (currentStrengths[0]?.frontRowTotal || 0) >= minThreshold ? '✓' : '✗')
                                ),
                                React.createElement('div', {}, 
                                    `Back: ${currentStrengths[0]?.backRowTotal || 0}`,
                                    React.createElement('span', { 
                                        className: `ml-1 ${(currentStrengths[0]?.backRowTotal || 0) >= minThreshold ? 'text-green-600' : 'text-red-600'}`
                                    }, (currentStrengths[0]?.backRowTotal || 0) >= minThreshold ? '✓' : '✗')
                                )
                            )
                        )
                    ),
                    
                    // Back Row (20 ft line) - furthest from net
                    React.createElement('div', { className: "border-b-2 border-dashed border-orange-400 pb-3 mb-3" },
                        React.createElement('div', { className: "text-xs text-center mb-2 text-orange-700" }, "Back Row (20 ft)"),
                        React.createElement('div', { className: "grid grid-cols-3 gap-2" },
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Left (Serve)"),
                                React.createElement(DropZone, { 
                                    position: "backLeft", 
                                    currentPlayer: courtPositions.backLeft, 
                                    label: "BL" 
                                })
                            ),
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Middle"),
                                React.createElement(DropZone, { 
                                    position: "backMiddle", 
                                    currentPlayer: courtPositions.backMiddle, 
                                    label: "BM" 
                                })
                            ),
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Right"),
                                React.createElement(DropZone, { 
                                    position: "backRight", 
                                    currentPlayer: courtPositions.backRight, 
                                    label: "BR" 
                                })
                            )
                        )
                    ),

                    // Front Row (10 ft line)
                    React.createElement('div', { className: "border-b-2 border-dashed border-orange-400 pb-3 mb-3" },
                        React.createElement('div', { className: "text-xs text-center mb-2 text-orange-700" }, "Front Row (10 ft)"),
                        React.createElement('div', { className: "grid grid-cols-3 gap-2" },
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Left"),
                                React.createElement(DropZone, { 
                                    position: "frontLeft", 
                                    currentPlayer: courtPositions.frontLeft, 
                                    label: "FL" 
                                })
                            ),
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Middle"),
                                React.createElement(DropZone, { 
                                    position: "frontMiddle", 
                                    currentPlayer: courtPositions.frontMiddle, 
                                    label: "FM" 
                                })
                            ),
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { className: "text-xs mb-1" }, "Right"),
                                React.createElement(DropZone, { 
                                    position: "frontRight", 
                                    currentPlayer: courtPositions.frontRight, 
                                    label: "FR" 
                                })
                            )
                        )
                    ),

                    // Net at the bottom
                    React.createElement('div', { className: "w-full h-2 bg-black mb-4 rounded" }),

                    // Rotation Controls
                    React.createElement('div', { className: "flex justify-center gap-4 mb-4" },
                        React.createElement('button', {
                            onClick: rotateBackward,
                            className: "flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",
                            disabled: [courtPositions.backLeft, courtPositions.backMiddle, courtPositions.backRight, courtPositions.frontLeft, courtPositions.frontMiddle, courtPositions.frontRight].filter(Boolean).length < 6
                        },
                            "⟲ Previous"
                        ),
                        React.createElement('button', {
                            onClick: rotateForward,
                            className: "flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",
                            disabled: [courtPositions.backLeft, courtPositions.backMiddle, courtPositions.backRight, courtPositions.frontLeft, courtPositions.frontMiddle, courtPositions.frontRight].filter(Boolean).length < 6
                        },
                            "Next ⟳"
                        )
                    )
                )
            );

            const BenchDisplay = () => (
                React.createElement('div', { 
                    className: "bg-green-50 border-2 border-green-300 rounded-lg p-4 mb-6",
                    onDragOver: handleDragOver,
                    onDragEnter: (e) => handleDragEnter(e, 'bench'),
                    onDragLeave: handleDragLeave,
                    onDrop: (e) => handleDrop(e, 'bench')
                },
                    React.createElement('div', { className: "text-center text-sm font-semibold mb-3 text-green-800" },
                        "Bench Players (Next to rotate in at bottom)"
                    ),
                    React.createElement('div', { className: "space-y-2" },
                        courtPositions.bench.map((player, index) => (
                            React.createElement('div', { key: player.id, className: "flex items-center gap-2" },
                                React.createElement('span', { className: "text-xs w-6 text-center" }, courtPositions.bench.length - index),
                                React.createElement(PlayerTile, { player: player, isOnCourt: false, benchIndex: index })
                            )
                        )),
                        courtPositions.bench.length === 0 && (
                            React.createElement('div', { className: "text-center text-gray-500 text-sm" }, "No bench players")
                        )
                    )
                )
            );

            return React.createElement('div', { className: "max-w-md mx-auto bg-white min-h-screen p-4" },
                // Header
                React.createElement('div', { className: "flex items-center justify-between mb-6" },
                    React.createElement('input', {
                        type: "text",
                        value: teamName,
                        onChange: (e) => setTeamName(e.target.value),
                        className: "text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"
                    }),
                    React.createElement('button', { className: "p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600" },
                        "💾"
                    )
                ),

                // Court Display
                React.createElement(CourtDisplay),
                
                // Bench Display
                React.createElement(BenchDisplay),

                // Optimization Controls
                React.createElement('div', { className: "mb-4 p-4 bg-gray-50 rounded-lg" },
                    React.createElement('div', { className: "mb-3" },
                        React.createElement('label', { className: "block text-sm font-medium mb-1" }, 
                            `Minimum Row Total: ${minThreshold}`
                        ),
                        React.createElement('input', {
                            type: "range",
                            min: "3",
                            max: "15",
                            value: minThreshold,
                            onChange: (e) => setMinThreshold(parseInt(e.target.value)),
                            className: "w-full"
                        }),
                        React.createElement('div', { className: "flex justify-between text-xs text-gray-500 mt-1" },
                            React.createElement('span', {}, "3"),
                            React.createElement('span', {}, "15")
                        )
                    ),
                    React.createElement('div', { className: "flex gap-2" },
                        React.createElement('button', {
                            onClick: optimizeStandardPlay,
                            className: `flex-1 p-3 text-white rounded-lg transition-colors ${
                                isOptimizing ? 'optimizing cursor-not-allowed' : 'bg-purple-500 hover:bg-purple-600'
                            }`,
                            disabled: isOptimizing || players.filter(p => p.active).length < 6
                        },
                            isOptimizing ? "Optimizing..." : "🎯 Standard Play"
                        ),
                        React.createElement('button', {
                            onClick: autoArrangePlayers,
className: "flex-1 p-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",
                            disabled: players.filter(p => p.active).length < 6
                        },
                            "📋 Basic Setup"
                        )
                    )
                ),

                // Players List
                React.createElement('div', { className: "mb-6" },
                    React.createElement('div', { className: "flex items-center justify-between mb-3" },
                        React.createElement('h2', { className: "text-lg font-semibold" }, `Team Roster (${players.length}/10)`),
                        React.createElement('button', {
                            onClick: () => setShowPlayerForm(true),
                            className: "flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"
                        },
                            "+ Add Player"
                        )
                    ),
                    
                    React.createElement('div', { className: "space-y-2" },
                        players.map(player => (
                            React.createElement('div', { key: player.id, className: "flex items-center gap-3" },
                                React.createElement('button', {
                                    onClick: () => togglePlayerActive(player.id),
                                    className: `w-4 h-4 rounded border-2 ${
                                        player.active ? 'bg-green-500 border-green-500' : 'border-gray-300'
                                    }`
                                }),
                                React.createElement(PlayerTile, { player: player, isOnCourt: false }),
                                React.createElement('div', { className: "text-xs text-gray-600" },
                                    `D:${player.defense} S:${player.serving}`
                                )
                            )
                        ))
                    )
                ),

                // Player Form Modal
                showPlayerForm && (
                    React.createElement('div', { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" },
                        React.createElement('div', { className: "bg-white rounded-lg p-6 w-80 mx-4" },
                            React.createElement('h3', { className: "text-lg font-semibold mb-4" },
                                editingPlayer ? 'Edit Player' : 'Add New Player'
                            ),
                            
                            React.createElement('div', { className: "space-y-4" },
                                React.createElement('div', {},
                                    React.createElement('label', { className: "block text-sm font-medium mb-1" }, "Player Name"),
                                    React.createElement('input', {
                                        type: "text",
                                        value: playerForm.name,
                                        onChange: (e) => setPlayerForm({...playerForm, name: e.target.value}),
                                        className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",
                                        placeholder: "Enter player name"
                                    })
                                ),
                                
                                React.createElement('div', {},
                                    React.createElement('label', { className: "block text-sm font-medium mb-1" }, "Defense Rating (1-5)"),
                                    React.createElement('input', {
                                        type: "range",
                                        min: "1",
                                        max: "5",
                                        value: playerForm.defense,
                                        onChange: (e) => setPlayerForm({...playerForm, defense: parseInt(e.target.value)}),
                                        className: "w-full"
                                    }),
                                    React.createElement('div', { className: "text-center font-semibold" }, playerForm.defense)
                                ),
                                
                                React.createElement('div', {},
                                    React.createElement('label', { className: "block text-sm font-medium mb-1" }, "Serving Rating (1-5)"),
                                    React.createElement('input', {
                                        type: "range",
                                        min: "1",
                                        max: "5",
                                        value: playerForm.serving,
                                        onChange: (e) => setPlayerForm({...playerForm, serving: parseInt(e.target.value)}),
                                        className: "w-full"
                                    }),
                                    React.createElement('div', { className: "text-center font-semibold" }, playerForm.serving)
                                )
                            ),
                            
                            React.createElement('div', { className: "flex gap-3 mt-6" },
                                React.createElement('button', {
                                    onClick: () => {
                                        setShowPlayerForm(false);
                                        setEditingPlayer(null);
                                        setPlayerForm({ name: '', defense: 3, serving: 3, active: true });
                                    },
                                    className: "flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                                }, "Cancel"),
                                React.createElement('button', {
                                    onClick: editingPlayer ? handleUpdatePlayer : handleAddPlayer,
                                    className: "flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",
                                    disabled: !playerForm.name.trim()
                                }, editingPlayer ? 'Update Player' : 'Add Player')
                            )
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(VolleyballApp), document.getElementById('root'));
    </script>
</body>
</html>
